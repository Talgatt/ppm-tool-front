{"ast":null,"code":"import _regeneratorRuntime from\"/Users/talgattulegenov/Desktop/PPMToolFullStack React+Java/ppmtool-react-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/talgattulegenov/Desktop/PPMToolFullStack React+Java/ppmtool-react-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{GET_ERRORS,GET_BACKLOG,GET_PROJECT_TASK,DELETE_PROJECT_TASK}from\"./types\";export var addProjectTask=function addProjectTask(backlog_id,project_task,history){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"/api/backlog/\".concat(backlog_id),project_task);case 3:history.push(\"/projectBoard/\".concat(backlog_id));dispatch({type:GET_ERRORS,payload:{}});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:GET_ERRORS,payload:_context.t0.response.data});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getBacklog=function getBacklog(backlog_id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/api/backlog/\".concat(backlog_id));case 3:res=_context2.sent;console.log(res);dispatch({type:GET_BACKLOG,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);dispatch({type:GET_ERRORS,payload:_context2.t0.response.data});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getProjectTask=function getProjectTask(backlog_id,pt_id,history){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"/api/backlog/\".concat(backlog_id,\"/\").concat(pt_id));case 3:res=_context3.sent;dispatch({type:GET_PROJECT_TASK,payload:res.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);history.push(\"/dashboard\");case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var updateProjectTask=function updateProjectTask(backlog_id,pt_id,project_task,history){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.patch(\"/api/backlog/\".concat(backlog_id,\"/\").concat(pt_id),project_task);case 3:dispatch({type:GET_ERRORS,payload:{}});history.push(\"/projectBoard/\".concat(backlog_id));_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:GET_ERRORS,payload:_context4.t0.response.data});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var deleteProjectTask=function deleteProjectTask(backlog_id,pt_id){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!window.confirm(\"You are deleting project task \".concat(pt_id,\", this action cannot be undone\"))){_context5.next=4;break;}_context5.next=3;return axios.delete(\"/api/backlog/\".concat(backlog_id,\"/\").concat(pt_id));case 3:dispatch({type:DELETE_PROJECT_TASK,payload:pt_id});case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/talgattulegenov/Desktop/PPMToolFullStack React+Java/ppmtool-react-client/src/actions/backlogActions.js"],"names":["axios","GET_ERRORS","GET_BACKLOG","GET_PROJECT_TASK","DELETE_PROJECT_TASK","addProjectTask","backlog_id","project_task","history","dispatch","post","push","type","payload","response","data","getBacklog","get","res","console","log","getProjectTask","pt_id","updateProjectTask","patch","deleteProjectTask","window","confirm","delete"],"mappings":"yYAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,UADF,CAEEC,WAFF,CAGEC,gBAHF,CAIEC,mBAJF,KAKO,SALP,CAOA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,UAAD,CAAaC,YAAb,CAA2BC,OAA3B,iGAAuC,iBACnEC,QADmE,wJAI3DT,CAAAA,KAAK,CAACU,IAAN,wBAA2BJ,UAA3B,EAAyCC,YAAzC,CAJ2D,QAKjEC,OAAO,CAACG,IAAR,yBAA8BL,UAA9B,GACAG,QAAQ,CAAC,CACPG,IAAI,CAAEX,UADC,CAEPY,OAAO,CAAE,EAFF,CAAD,CAAR,CANiE,+EAWjEJ,QAAQ,CAAC,CACPG,IAAI,CAAEX,UADC,CAEPY,OAAO,CAAE,YAAIC,QAAJ,CAAaC,IAFf,CAAD,CAAR,CAXiE,oEAAvC,gEAAvB,CAkBP,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACV,UAAD,kGAAgB,kBAAOG,QAAP,sKAEpBT,CAAAA,KAAK,CAACiB,GAAN,wBAA0BX,UAA1B,EAFoB,QAEhCY,GAFgC,gBAItCC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAT,QAAQ,CAAC,CACPG,IAAI,CAAEV,WADC,CAEPW,OAAO,CAAEK,GAAG,CAACH,IAFN,CAAD,CAAR,CALsC,mFAUtCN,QAAQ,CAAC,CACPG,IAAI,CAAEX,UADC,CAEPY,OAAO,CAAE,aAAIC,QAAJ,CAAaC,IAFf,CAAD,CAAR,CAVsC,sEAAhB,kEAAnB,CAiBP,MAAO,IAAMM,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACf,UAAD,CAAagB,KAAb,CAAoBd,OAApB,kGAAgC,kBAC5DC,QAD4D,sKAIxCT,CAAAA,KAAK,CAACiB,GAAN,wBAA0BX,UAA1B,aAAwCgB,KAAxC,EAJwC,QAIpDJ,GAJoD,gBAK1DT,QAAQ,CAAC,CACPG,IAAI,CAAET,gBADC,CAEPU,OAAO,CAAEK,GAAG,CAACH,IAFN,CAAD,CAAR,CAL0D,mFAU1DP,OAAO,CAACG,IAAR,CAAa,YAAb,EAV0D,sEAAhC,kEAAvB,CAcP,MAAO,IAAMY,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAC/BjB,UAD+B,CAE/BgB,KAF+B,CAG/Bf,YAH+B,CAI/BC,OAJ+B,kGAK5B,kBAAOC,QAAP,8JAEKT,CAAAA,KAAK,CAACwB,KAAN,wBAA4BlB,UAA5B,aAA0CgB,KAA1C,EAAmDf,YAAnD,CAFL,QAIDE,QAAQ,CAAC,CACPG,IAAI,CAAEX,UADC,CAEPY,OAAO,CAAE,EAFF,CAAD,CAAR,CAKAL,OAAO,CAACG,IAAR,yBAA8BL,UAA9B,GATC,mFAWDG,QAAQ,CAAC,CACPG,IAAI,CAAEX,UADC,CAEPY,OAAO,CAAE,aAAIC,QAAJ,CAAaC,IAFf,CAAD,CAAR,CAXC,sEAL4B,kEAA1B,CAuBP,MAAO,IAAMU,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACnB,UAAD,CAAagB,KAAb,kGAAuB,kBAAOb,QAAP,0HAEpDiB,MAAM,CAACC,OAAP,yCACmCL,KADnC,mCAFoD,iDAM9CtB,CAAAA,KAAK,CAAC4B,MAAN,wBAA6BtB,UAA7B,aAA2CgB,KAA3C,EAN8C,QAQpDb,QAAQ,CAAC,CACPG,IAAI,CAAER,mBADC,CAEPS,OAAO,CAAES,KAFF,CAAD,CAAR,CARoD,wDAAvB,kEAA1B","sourcesContent":["import axios from \"axios\";\nimport {\n  GET_ERRORS,\n  GET_BACKLOG,\n  GET_PROJECT_TASK,\n  DELETE_PROJECT_TASK,\n} from \"./types\";\n\nexport const addProjectTask = (backlog_id, project_task, history) => async (\n  dispatch\n) => {\n  try {\n    await axios.post(`/api/backlog/${backlog_id}`, project_task);\n    history.push(`/projectBoard/${backlog_id}`);\n    dispatch({\n      type: GET_ERRORS,\n      payload: {},\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data,\n    });\n  }\n};\n\nexport const getBacklog = (backlog_id) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/backlog/${backlog_id}`);\n\n    console.log(res);\n    dispatch({\n      type: GET_BACKLOG,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data,\n    });\n  }\n};\n\nexport const getProjectTask = (backlog_id, pt_id, history) => async (\n  dispatch\n) => {\n  try {\n    const res = await axios.get(`/api/backlog/${backlog_id}/${pt_id}`);\n    dispatch({\n      type: GET_PROJECT_TASK,\n      payload: res.data,\n    });\n  } catch (err) {\n    history.push(\"/dashboard\");\n  }\n};\n\nexport const updateProjectTask = (\n  backlog_id,\n  pt_id,\n  project_task,\n  history\n) => async (dispatch) => {\n  try {\n    await axios.patch(`/api/backlog/${backlog_id}/${pt_id}`, project_task);\n\n    dispatch({\n      type: GET_ERRORS,\n      payload: {},\n    });\n\n    history.push(`/projectBoard/${backlog_id}`);\n  } catch (err) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data,\n    });\n  }\n};\n\nexport const deleteProjectTask = (backlog_id, pt_id) => async (dispatch) => {\n  if (\n    window.confirm(\n      `You are deleting project task ${pt_id}, this action cannot be undone`\n    )\n  ) {\n    await axios.delete(`/api/backlog/${backlog_id}/${pt_id}`);\n\n    dispatch({\n      type: DELETE_PROJECT_TASK,\n      payload: pt_id,\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}