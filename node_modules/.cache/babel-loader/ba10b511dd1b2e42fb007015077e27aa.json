{"ast":null,"code":"import _regeneratorRuntime from\"/Users/talgattulegenov/Desktop/PPMToolFullStack React+Java/ppmtool-react-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/talgattulegenov/Desktop/PPMToolFullStack React+Java/ppmtool-react-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{GET_ERRORS,GET_PROJECTS,GET_PROJECT,DELETE_PROJECT}from\"./types\";export var createProject=function createProject(project,history){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"/api/project\",project);case 3:history.push(\"/dashboard\");dispatch({type:GET_ERRORS,payload:{}});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:GET_ERRORS,payload:_context.t0.response.data});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getProjects=function getProjects(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"/api/project/all\");case 2:res=_context2.sent;dispatch({type:GET_PROJECTS,payload:res.data});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getProject=function getProject(id,history){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"/api/project/\".concat(id));case 3:res=_context3.sent;dispatch({type:GET_PROJECT,payload:res.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);history.push(\"/dashboard\");case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var deleteProject=function deleteProject(id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!window.confirm(\"Are you sure? This will delete the project and all the data related to it.\")){_context4.next=4;break;}_context4.next=3;return axios.delete(\"/api/project/\".concat(id));case 3:dispatch({type:DELETE_PROJECT,payload:id});case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/talgattulegenov/Desktop/PPMToolFullStack React+Java/ppmtool-react-client/src/actions/projectActions.js"],"names":["axios","GET_ERRORS","GET_PROJECTS","GET_PROJECT","DELETE_PROJECT","createProject","project","history","dispatch","post","push","type","payload","response","data","getProjects","get","res","getProject","id","deleteProject","window","confirm","delete"],"mappings":"yYAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,YAArB,CAAmCC,WAAnC,CAAgDC,cAAhD,KAAsE,SAAtE,CAEA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,OAAD,CAAUC,OAAV,iGAAsB,iBAAOC,QAAP,wJAEzCR,CAAAA,KAAK,CAACS,IAAN,CAAW,cAAX,CAA2BH,OAA3B,CAFyC,QAG/CC,OAAO,CAACG,IAAR,CAAa,YAAb,EACAF,QAAQ,CAAC,CACPG,IAAI,CAAEV,UADC,CAEPW,OAAO,CAAE,EAFF,CAAD,CAAR,CAJ+C,+EAS/CJ,QAAQ,CAAC,CACPG,IAAI,CAAEV,UADC,CAEPW,OAAO,CAAE,YAAIC,QAAJ,CAAaC,IAFf,CAAD,CAAR,CAT+C,oEAAtB,gEAAtB,CAgBP,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,mGAAM,kBAAOP,QAAP,qJACbR,CAAAA,KAAK,CAACgB,GAAN,CAAU,kBAAV,CADa,QACzBC,GADyB,gBAE/BT,QAAQ,CAAC,CACPG,IAAI,CAAET,YADC,CAEPU,OAAO,CAAEK,GAAG,CAACH,IAFN,CAAD,CAAR,CAF+B,wDAAN,kEAApB,CAQP,MAAO,IAAMI,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,EAAD,CAAKZ,OAAL,kGAAiB,kBAAOC,QAAP,sKAErBR,CAAAA,KAAK,CAACgB,GAAN,wBAA0BG,EAA1B,EAFqB,QAEjCF,GAFiC,gBAIvCT,QAAQ,CAAC,CACPG,IAAI,CAAER,WADC,CAEPS,OAAO,CAAEK,GAAG,CAACH,IAFN,CAAD,CAAR,CAJuC,mFASvCP,OAAO,CAACG,IAAR,CAAa,YAAb,EATuC,sEAAjB,kEAAnB,CAaP,MAAO,IAAMU,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACD,EAAD,kGAAQ,kBAAOX,QAAP,0HAEjCa,MAAM,CAACC,OAAP,CACE,4EADF,CAFiC,iDAM3BtB,CAAAA,KAAK,CAACuB,MAAN,wBAA6BJ,EAA7B,EAN2B,QAOjCX,QAAQ,CAAC,CACPG,IAAI,CAAEP,cADC,CAEPQ,OAAO,CAAEO,EAFF,CAAD,CAAR,CAPiC,wDAAR,kEAAtB","sourcesContent":["import axios from \"axios\";\nimport { GET_ERRORS, GET_PROJECTS, GET_PROJECT, DELETE_PROJECT } from \"./types\";\n\nexport const createProject = (project, history) => async (dispatch) => {\n  try {\n    await axios.post(\"/api/project\", project);\n    history.push(\"/dashboard\");\n    dispatch({\n      type: GET_ERRORS,\n      payload: {},\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data,\n    });\n  }\n};\n\nexport const getProjects = () => async (dispatch) => {\n  const res = await axios.get(\"/api/project/all\");\n  dispatch({\n    type: GET_PROJECTS,\n    payload: res.data,\n  });\n};\n\nexport const getProject = (id, history) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/project/${id}`);\n\n    dispatch({\n      type: GET_PROJECT,\n      payload: res.data,\n    });\n  } catch (error) {\n    history.push(\"/dashboard\");\n  }\n};\n\nexport const deleteProject = (id) => async (dispatch) => {\n  if (\n    window.confirm(\n      \"Are you sure? This will delete the project and all the data related to it.\"\n    )\n  ) {\n    await axios.delete(`/api/project/${id}`);\n    dispatch({\n      type: DELETE_PROJECT,\n      payload: id,\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}